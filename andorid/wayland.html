
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Wayland &#8212; GDocs 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Waydroid" href="waydroid.html" />
    <link rel="prev" title="Gralloc" href="gralloc.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="wayland">
<h1>Wayland<a class="headerlink" href="#wayland" title="Permalink to this heading">¶</a></h1>
<section id="waylandweston">
<h2>Wayland与Weston简介<a class="headerlink" href="#waylandweston" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="http://www.it165.net/pro/html/201507/46537.html">http://www.it165.net/pro/html/201507/46537.html</a></p>
</section>
<section id="wayland-display-server-protocol">
<h2>Wayland display server protocol<a class="headerlink" href="#wayland-display-server-protocol" title="Permalink to this heading">¶</a></h2>
<img alt="../_images/Wayland_display_server_protocol.svg.png" src="../_images/Wayland_display_server_protocol.svg.png" />
<p>① The en:evdev module of the en:Linux kernel gets an event and sends it to the en:Wayland compositor. This is similar to the X case, which is great, since we get to reuse all the input drivers already in the kernel.</p>
<p>② The Wayland compositor looks through its scenegraph to determine which window should receive the event. The scenegraph corresponds to what’s on screen and the Wayland compositor understands the transformations that it may have applied to the elements in the scenegraph. Thus, the Wayland compositor can pick the right window and transform the screen coordinates to window local coordinates, by applying the inverse transformations. The types of transformation that can be applied to a window is only restricted to what the compositor can do, as long as it can compute the inverse transformation for the input events.</p>
<p>③ As in the X case, when the client receives the event, it updates the UI in response. But in the Wayland case, the rendering happens in the client, and the client just sends a request to the compositor to indicate the region that was updated.</p>
<p>④ The en:Wayland compositor collects damage requests from its clients and then re-composites the screen. The compositor can then directly issue an en:ioctl to schedule a pageflip with KMS</p>
</section>
<section id="linux-graphics-drivers-dri-wayland">
<h2>Linux graphics drivers DRI Wayland<a class="headerlink" href="#linux-graphics-drivers-dri-wayland" title="Permalink to this heading">¶</a></h2>
<img alt="../_images/Linux_graphics_drivers_DRI_Wayland.svg.png" src="../_images/Linux_graphics_drivers_DRI_Wayland.svg.png" />
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">GDocs</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../corp.html">Corporation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmds/index.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel/index.html">Linux Kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../binaryAnalysis.html">BinaryAnalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cplus/index.html">Cplus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../els/index.html">ESL</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Andorid</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="framework.html">Android Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphics/index.html">Android Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux_graphics.html">Linux Graphics stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootup.html">Boot Up</a></li>
<li class="toctree-l2"><a class="reference internal" href="SurfaceFlinger.html">SurfaceFlinger</a></li>
<li class="toctree-l2"><a class="reference internal" href="drm.html">Direct Rendering Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="gralloc.html">Gralloc</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Wayland</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#waylandweston">Wayland与Weston简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wayland-display-server-protocol">Wayland display server protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="#linux-graphics-drivers-dri-wayland">Linux graphics drivers DRI Wayland</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="waydroid.html">Waydroid</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../yocto/index.html">Yocto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emacs/index.html">Emacs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Virtulization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debian/index.html">Debian</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licence/index.html">OpenSource License</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Andorid</a><ul>
      <li>Previous: <a href="gralloc.html" title="previous chapter">Gralloc</a></li>
      <li>Next: <a href="waydroid.html" title="next chapter">Waydroid</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2022, Haitao Lau.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/andorid/wayland.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>