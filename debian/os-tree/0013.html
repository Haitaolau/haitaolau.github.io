
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>How to Debug the initrd ? &#8212; GDocs 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How to Grub2 load the Ostree" href="0015.html" />
    <link rel="prev" title="systemd.generator - systemd unit generators" href="0012.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="how-to-debug-the-initrd">
<h1>How to Debug the initrd ?<a class="headerlink" href="#how-to-debug-the-initrd" title="Permalink to this heading">¶</a></h1>
<p>The kernel command-line parameter rd.break is a powerful debugging and recovery tool in Linux, primarily used</p>
<p>with modern initramfs implementations like dracut (common in Fedora, RHEL, CentOS) or initramfs-tools (Debian, Ubuntu).</p>
<blockquote>
<div><p><strong>rd. prefix</strong>: The rd. prefix in kernel parameters generally indicates that the parameter is intended for the</p>
<p>initramfs (initial RAM filesystem) environment. These parameters are interpreted by the init script (or systemd instance)</p>
<p>running inside the initramfs, not directly by the main Linux kernel itself.</p>
<p><strong>break</strong>: This part instructs the initramfs to stop the boot process and drop you into an interactive shell (often a BusyBox shell) at a specific “breakpoint.”</p>
</div></blockquote>
<p>Specifically, when you add rd.break (without any arguments) to the kernel command line:</p>
<blockquote>
<div><p><strong>Early Boot Interruption</strong>: The boot process will halt before the initramfs performs the final switch_root (or pivot_root) operation.</p>
<p>This means control has not yet been fully handed over to the real root filesystem’s /sbin/init (which is typically systemd).</p>
<p><strong>Emergency Shell Access</strong>: You will be presented with a root shell prompt within the initramfs environment.</p>
<p>This shell runs on the temporary RAM-based filesystem of the initramfs.</p>
<p><strong>Real Root at /sysroot</strong>: Crucially, at this point, the initramfs has usually already successfully located</p>
<p>and mounted your actual root filesystem to /sysroot (by default, it’s mounted read-only). This allows you to inspect its contents.</p>
</div></blockquote>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sh-5.2# cat /proc/cmdline
<span class="nv">initrd</span><span class="o">=</span><span class="se">\o</span>stree<span class="se">\e</span>lxr-845a09b4e96e39f3e3fb29a87373436b064645a08b46174385caf9bc21551816<span class="se">\i</span>nitramfs-6.1.0-29-amd64.img <span class="nv">root</span><span class="o">=</span><span class="nv">LABEL</span><span class="o">=</span>ROOT
rw <span class="nv">console</span><span class="o">=</span>ttyS0,115200n8 <span class="nv">console</span><span class="o">=</span>tty0 <span class="nv">ostree</span><span class="o">=</span>/ostree/boot.1/elxr/845a09b4e96e39f3e3fb29a87373436b064645a08b46174385caf9bc21551816/0 rd.break
</pre></div>
</div>
<p><strong>/run/initramfs/rdsosreport.txt</strong> is a crucial diagnostic file that is generated by dracut (the initramfs generator used by Fedora, RHEL, CentOS, and others) when your Linux system fails to boot and drops into the emergency mode or dracut emergency shell.</p>
<p>Essentially, it’s a debug report generated by the initramfs to help you troubleshoot why your system failed to fully boot.</p>
<p>Here is above  file <a class="reference download internal" download="" href="../../_downloads/c272d58ba253a8a6d2a3a9aa199bdbf8/debug-initrd.txt"><code class="xref download docutils literal notranslate"><span class="pre">rdsosreport.txt</span></code></a></p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">GDocs</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../links.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../corp.html">Corporation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cmds/index.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel/index.html">Linux Kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../binaryAnalysis.html">BinaryAnalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cplus/index.html">Cplus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../els/index.html">ESL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../andorid/index.html">Andorid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yocto/index.html">Yocto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../emacs/index.html">Emacs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virt/index.html">Virtulization</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Debian</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../0014.html">Debian Useful Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0005.html">Launch up Debian VM with Qemu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debian-installer/index.html">Debian Installer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debian-command/index.html">Debian command</a></li>
<li class="toctree-l2"><a class="reference internal" href="../live-cd/index.html">Debian Live CD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../elxr_edge/index.html">eLxr Edge</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">OS tree</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="0017.html">Ostree</a></li>
<li class="toctree-l3"><a class="reference internal" href="0008.html">Ostree FileSystem Layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="0001.html">ostree init</a></li>
<li class="toctree-l3"><a class="reference internal" href="0002.html">ostree admin init-fs</a></li>
<li class="toctree-l3"><a class="reference internal" href="0003.html">ostree pull-local</a></li>
<li class="toctree-l3"><a class="reference internal" href="0004.html">ostree log</a></li>
<li class="toctree-l3"><a class="reference internal" href="0005.html">ostree summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="0006.html">ostree admin os-init</a></li>
<li class="toctree-l3"><a class="reference internal" href="0007.html">ostree admin deploy</a></li>
<li class="toctree-l3"><a class="reference internal" href="0009.html">Steps to Build dbgsym Package for ostree</a></li>
<li class="toctree-l3"><a class="reference internal" href="0010.html">Ostree startup procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="0014.html">Ostree systemd generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="0011.html">Systemd initrd</a></li>
<li class="toctree-l3"><a class="reference internal" href="0012.html">systemd.generator - systemd unit generators</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">How to Debug the initrd ?</a></li>
<li class="toctree-l3"><a class="reference internal" href="0015.html">How to Grub2 load the Ostree</a></li>
<li class="toctree-l3"><a class="reference internal" href="0016.html">ostree-boot: grub2-15_ostree</a></li>
<li class="toctree-l3"><a class="reference internal" href="0018.html">A Deep Dive into OSTree Commit Implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../0001.html">Ruck: build pablo with minimal ostree rootfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0002.html">How to build deb package for libxfce4ui</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0003.html">How to Search for Debian package?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0004.html">How to Check Debian package version?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0006.html">How to download deb packages using apt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0007.html">E: You must put some ‘source’ URIs in your sources.list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0008.html">How can I specify the repository from which a package will be installed?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0009.html">How to install build dependencies for packages ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0010.html">Create orig tarballs from git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0011.html">Debian: Building the package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/index.html">Debian Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0012.html">Build and Test STIG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0013.html">Change the mirror for elxr docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0015.html">build an ARM64 Debian package on an AMD64 server using sbuild</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0016.html">Build a Debian package directly from a Git repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initramfs/index.html">initramfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0017.html">How to apply the patches from a package’s debian/patches directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0018.html">steps to build unsigned eLxr kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0019.html">Steps to build signed eLxr kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0020.html">Remove a branch from your fork (remote)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0021.html">git: update your fork project (kernel)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licence/index.html">OpenSource License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bochs/index.html">Bochs IA-32 Emulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../system/index.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../unix/index.html">UNIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../math/index.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../todo.html">To Do</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Debian</a><ul>
  <li><a href="index.html">OS tree</a><ul>
      <li>Previous: <a href="0012.html" title="previous chapter">systemd.generator - systemd unit generators</a></li>
      <li>Next: <a href="0015.html" title="next chapter">How to Grub2 load the Ostree</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2022, Haitao Lau.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../_sources/debian/os-tree/0013.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>