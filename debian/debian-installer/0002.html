
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Debian-Installer: Udeb &#8212; GDocs 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Debian command" href="../debian-command/index.html" />
    <link rel="prev" title="Debian-Installer: Building the installer yourself" href="0001.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="debian-installer-udeb">
<h1>Debian-Installer: Udeb<a class="headerlink" href="#debian-installer-udeb" title="Permalink to this heading">¶</a></h1>
<p>A udeb (or micro-deb) is a special kind of Debian package. Technically udebs are very similar to regular packages: you can look at their contents using <strong>dpkg -c</strong>, and extract them using <strong>dpkg -x and dpkg -e</strong>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">harrison@debian-build:~/debian-installer/build$ </span>dpkg -c ./apt.udeb/cache/archives/ethdetect_1.159_all.udeb
<span class="go">drwxr-xr-x root/root         0 2023-05-23 13:22 ./</span>
<span class="go">drwxr-xr-x root/root         0 2023-05-23 13:22 ./bin/</span>
<span class="go">-rwxr-xr-x root/root      5258 2023-05-23 13:22 ./bin/ethdetect</span>
<span class="go">drwxr-xr-x root/root         0 2023-05-23 13:22 ./etc/</span>
<span class="go">drwxr-xr-x root/root         0 2023-05-23 13:22 ./etc/network/</span>
<span class="go">-rw-r--r-- root/root      2132 2023-05-23 13:22 ./etc/network/devnames-static.gz</span>
<span class="gp">harrison@debian-build:~/debian-installer/build$</span>
</pre></div>
</div>
<p>The main difference is that a lot of policy requirements are waived. For example, a udeb does not contain a changelog, licence, manpages or md5sums[4]. The reason is to minimize size which is important as the installation takes place completely in RAM, with swap only becoming available after stage 4 of the installation (partitioning).</p>
<p>Another important difference is that udebs are not really meant to be uninstalled or upgraded.</p>
<p>Two special classes of udebs should be mentioned here. However, covering these in detail is outside the scope of this document.</p>
<p>Kernel image and kernel module udebs</p>
<ul class="simple">
<li><p>Kernel udebs are built basically by repackaging a regular kernel image package. Reason is again to reduce memory usage: not all modules included in a kernel image package are needed during an installation. Also, different modules are needed in the initrd for different installation methods, remaining modules can either be loaded later or optionally (by manual selection or through dependencies). The package kernel-wedge contains the toolset used to reorganize a kernel-image package into multiple kernel (module) udebs.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ‘u’ stands for micro. An udeb is a stripped down deb file for use by the DebianInstaller . It removes the naughty bits (the documentation, as well as some checksums, etc.) to save space.</p>
</div>
<p><strong>The Debian-installer would use ‘sources.list.udeb’ to configure apt to download udebs from a mirror</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">harrison@debian-build:~/debian-installer/build$ </span>cat sources.list.udeb
<span class="gp"># </span>This file is automatically generated, edit sources.list.udeb.local instead.
<span class="go">deb [trusted=yes] copy:/home/harrison/debian-installer/build/ localudebs/</span>
<span class="go">deb http://deb.debian.org/debian bookworm main/debian-installer</span>
<span class="go">deb http://deb.debian.org/debian bookworm-proposed-updates main/debian-installer</span>
<span class="gp">harrison@debian-build:~/debian-installer/build$</span>
</pre></div>
</div>
<p>Apt would download Packages.gz from <a class="reference external" href="https://deb.debian.org/debian/dists/bookworm/main/debian-installer/binary-amd64/Packages.gz">https://deb.debian.org/debian/dists/bookworm/main/debian-installer/binary-amd64/Packages.gz</a></p>
<p>This link was configured by “deb <a class="reference external" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> bookworm main/debian-installer”</p>
<p>The packages.gz consist of multiple  packages information.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Package: zlib1g-udeb</span>
<span class="go">Source: zlib</span>
<span class="go">Version: 1:1.2.13.dfsg-1</span>
<span class="go">Installed-Size: 125</span>
<span class="go">Maintainer: Mark Brown &lt;broonie@debian.org&gt;</span>
<span class="go">Architecture: amd64</span>
<span class="go">Description: compression library - runtime for Debian installer</span>
<span class="go">Description-md5: 9cab974e3eab657c53bc17611b894c7a</span>
<span class="go">Section: debian-installer</span>
<span class="go">Priority: optional</span>
<span class="go">Filename: pool/main/z/zlib/zlib1g-udeb_1.2.13.dfsg-1_amd64.udeb</span>
<span class="go">Size: 53468</span>
<span class="go">MD5sum: 6533dfe8750de17c588bb7186a50dbdb</span>
<span class="go">SHA256: 60c1ccf74a2de41b237300841dc47a5d0bbf3b7faafdd0e0089873ac6db93740</span>

<span class="gp">wrsadmin@pek-hliu4-d1:~/workspace/debian$ </span>cat Packages
</pre></div>
</div>
<p>The zlib1g-udeb could be got from <a class="reference external" href="https://deb.debian.org/debian/pool/main/z/zlib/zlib1g-udeb_1.2.13.dfsg-1_amd64.udeb">https://deb.debian.org/debian/pool/main/z/zlib/zlib1g-udeb_1.2.13.dfsg-1_amd64.udeb</a></p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">GDocs</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../corp.html">Corporation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cmds/index.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel/index.html">Linux Kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../binaryAnalysis.html">BinaryAnalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cplus/index.html">Cplus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../els/index.html">ESL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../andorid/index.html">Andorid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yocto/index.html">Yocto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../emacs/index.html">Emacs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virt/index.html">Virtulization</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Debian</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../0014.html">Debian Useful Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0005.html">Launch up Debian VM with Qemu</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Debian Installer</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="0001.html">Debian-Installer: Building the installer yourself</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Debian-Installer: Udeb</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../debian-command/index.html">Debian command</a></li>
<li class="toctree-l2"><a class="reference internal" href="../live-cd/index.html">Debian Live CD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../elxr_edge/index.html">eLxr Edge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../os-tree/index.html">OS tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0001.html">Ruck: build pablo with minimal ostree rootfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0002.html">How to build deb package for libxfce4ui</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0003.html">How to Search for Debian package?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0004.html">How to Check Debian package version?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0006.html">How to download deb packages using apt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0007.html">E: You must put some ‘source’ URIs in your sources.list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0008.html">How can I specify the repository from which a package will be installed?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0009.html">How to install build dependencies for packages ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0010.html">Create orig tarballs from git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0011.html">Debian: Building the package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/index.html">Debian Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0012.html">Build and Test STIG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0013.html">Change the mirror for elxr docker image</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licence/index.html">OpenSource License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bochs/index.html">Bochs IA-32 Emulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../system/index.html">System</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Debian</a><ul>
  <li><a href="index.html">Debian Installer</a><ul>
      <li>Previous: <a href="0001.html" title="previous chapter">Debian-Installer: Building the installer yourself</a></li>
      <li>Next: <a href="../debian-command/index.html" title="next chapter">Debian command</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2022, Haitao Lau.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../_sources/debian/debian-installer/0002.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>